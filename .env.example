# Maggie Assistant environment template
# Copy this file to .env and fill in values for your environment.
# Maggie prefers to read from KV (`PostQ:thread-state`), but these values are
# used locally and as a fallback when KV is unavailable.
# Canonical repo brain: brain/brain.json → Cloudflare KV key PostQ:thread-state

# --- Cloudflare / deployment ---
CLOUDFLARE_ACCOUNT_ID=cf_account_id_here
CLOUDFLARE_API_TOKEN=cf_api_token_with_workers_edit
POSTQ_KV_NAMESPACE=kv_namespace_id
POSTQ_KV_TOKEN=optional_direct_kv_token
POSTQ_KV_ID=${POSTQ_KV_NAMESPACE}
SECRET_BLOB=thread-state
BRAIN_DOC_KEY=PostQ:thread-state
POSTQ_THREAD_STATE_KEY=PostQ:thread-state

# --- Maggie brain sync / GitHub ---
GITHUB_PAT=ghp_example_token
GITHUB_TOKEN=${GITHUB_PAT}
GITHUB_REPOSITORY=messyandmagneticassistant/mags-assistant
GITHUB_REF_NAME=main
THREAD_STATE_REPO=${GITHUB_REPOSITORY}
THREAD_STATE_BRANCH=main
THREAD_STATE_PATH=brain/brain.json
CODEX_SYNC_URL=https://codex.example.com/webhook
CODEX_AUTH_TOKEN=codex_sync_token
CODEX_LEARN_URL=
CODEX_LEARN_KEY=
SYNC_KEY=

# --- Stripe ---
STRIPE_KEY=sk_test_example
STRIPE_API_KEY=${STRIPE_KEY}
STRIPE_WEBHOOK_SECRET=whsec_example

# --- Telegram ---
TELEGRAM_TOKEN=123456:bot_token
TELEGRAM_BOT_TOKEN=${TELEGRAM_TOKEN}
TELEGRAM_CHAT_ID=000000000
TELEGRAM_THREAD_ID=
TELEGRAM_WEBHOOK_BASE=https://example.com/telegram

# --- Tally / Notion / Browserless ---
TALLY_FORM_ID=tally_form_id
NOTION_API_KEY=secret_notion_api_key
BROWSERLESS_KEY=browserless_api_key
BROWSERLESS_API_KEY=${BROWSERLESS_KEY}

# --- AI models ---
OPENAI_API_KEY=sk-openai-example
OPENAI_MODEL=gpt-4o-mini
GEMINI_API_KEY=your_gemini_key
GEMINI_MODEL=gemini-1.5-pro
GEMINI_API_BASE=https://generativelanguage.googleapis.com/v1beta

# --- Social / TikTok (optional) ---
TIKTOK_SESSION_MAIN=
TIKTOK_SESSION_WILLOW=
TIKTOK_SESSION_MAGGIE=
TIKTOK_PROFILE_MAIN=

# --- Worker automation ---
POST_THREAD_SECRET=super_secret_value
WORKER_CRON_KEY=${POST_THREAD_SECRET}
ADMIN_KEY=${POST_THREAD_SECRET}
BRAIN_DOC_REPO=${GITHUB_REPOSITORY}

# --- Diagnostics / tooling ---
MAGGIE_CONFIG_JSON='{"TELEGRAM_TOKEN":"123456:bot_token"}'
ENABLE_SOCIAL=false

# Add any service-specific overrides below. Maggie will merge KV → env → defaults
# on startup, so leaving entries blank is safe when you rely solely on KV.
